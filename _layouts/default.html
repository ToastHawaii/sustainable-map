<!--
 Copyright (C) 2020 Markus Peloso

 This file is part of Sustainable map.

 Sustainable map is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as
 published by the Free Software Foundation, either version 3 of the
 License, or (at your option) any later version.

 Sustainable map is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Affero General Public License for more details.

 You should have received a copy of the GNU Affero General Public License
 along with Sustainable map.  If not, see <http://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="{{ page.lang }}">

<head>
  <title>{{ page.title }}</title>
  <meta charset="utf-8" />
  <link rel="manifest" href="/manifest.{{ page.lang }}.json" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="{{ page.description }}" />

  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="application-name" content="{{ page.title }}" />
  <meta name="apple-mobile-web-app-title" content="{{ page.title }}" />
  <meta name="theme-color" content="#228b22" />
  <meta name="msapplication-navbutton-color" content="#228b22" />
  <meta name="msapplication-starturl" content="{{ page.base }}" />

  <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png" />
  <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#228b22" />
  <link rel="shortcut icon" href="/icons/favicon.ico" />
  <meta name="msapplication-TileColor" content="#228b22" />
  <meta name="msapplication-config" content="/icons/browserconfig.xml" />

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"
        media="print" onload="this.media='all'; this.onload=null;" />
  <link rel="stylesheet" href="{{
        '/assets/css/style.css?v='
          | append: site.github.build_revision
          | relative_url
      }}" />
  <style>
    @keyframes ticker {
      0% {
        transform: translateY(100%);
      }

      5%,
      25% {
        transform: translateY(0%);
      }

      30%,
      100% {
        transform: translateY(-100%);
      }
    }

    #motivierende-sätze-zum-erhalt-unserer-lebensgrundlage+ul {
      height: 32px;
      position: relative;
      overflow: hidden;
      width: 100%;
      padding-left: 10px;
    }

    #motivierende-sätze-zum-erhalt-unserer-lebensgrundlage+ul li {
      position: absolute;
      top: 0px;
      line-height: 29px;
      list-style: none;
      animation: ticker 8s infinite linear;
    }

    #motivierende-sätze-zum-erhalt-unserer-lebensgrundlage+ul:hover {
      animation-play-state: paused
    }

    #motivierende-sätze-zum-erhalt-unserer-lebensgrundlage+ul li:nth-child(4) {
      animation-delay: -2s;
    }

    #motivierende-sätze-zum-erhalt-unserer-lebensgrundlage+ul li:nth-child(3) {
      animation-delay: -4s;
    }

    #motivierende-sätze-zum-erhalt-unserer-lebensgrundlage+ul li:nth-child(2) {
      animation-delay: -6s;
    }

    html.theme-mode-dark {
      filter: invert(100%) hue-rotate(180deg);
    }

    html.theme-mode-dark img,
    html.theme-mode-dark input[type="image"] {
      filter: invert(100%) hue-rotate(-180deg);
    }

  </style>

  <meta name="monetization" content="$ilp.uphold.com/BwpBDr48YqPi" />

  <script src="/serviceWorkerRegister.js"></script>
</head>

<body>
  <div class="container-lg px-3 my-5 markdown-body">{{ content }}</div>

  <script src="{{ '/assets/js/scale.fix.js' | relative_url }}"></script>
  <script>
    const startTheme = localStorage.getItem("theme") || "system";
    if (!startTheme) {
      localStorage.setItem("theme", startTheme);
    }

    function setThemeClass(theme) {
      const isSystemThemeDark = window.matchMedia(
        "(prefers-color-scheme: dark)"
      ).matches;

      if ((theme === "system" && isSystemThemeDark) || theme === "dark") {
        document.documentElement.classList.add("theme-mode-dark");
      } else {
        document.documentElement.classList.remove("theme-mode-dark");
      }

      if (theme === "system") {
        document.documentElement.classList.add("theme-mode-system");
      } else {
        document.documentElement.classList.remove("theme-mode-system");
      }
    }

    setThemeClass(startTheme);
  </script>
</body>

</html>
